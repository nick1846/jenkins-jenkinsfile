pipeline {
    agent any

    stages {
        stage('1-Clone Ansible playbooks for Docker-compose') {
            steps {
                echo "Start of Stage Clone Ansible playbooks for Docker-compose"
		echo "Cloning......."
		dir('Ansible_Compose/Playbook') {
			git credentialsId: 'id_github', url: 'https://github.com/nick1846/ansible-docker-compose.git'
		}
		dir('Ansible_Compose/Docker_Compose') {
			git credentialsId: 'id_github', url: 'https://github.com/nick1846/jenkins-docker-compose.git'
		}	
		
		echo "End of Stage Clone Ansible playbooks for Docker-compose"
            }
        }
        stage('2-Test') {
            steps {
                echo "Start of Stage Test"
		echo "Testing......."
		echo "End of Stage Test"
            }
        }
        stage('3-Deploy to Dev') {
            steps {
                echo "Start of Stage Deploy"
		echo "Deploying......."
		
		ansiblePlaybook credentialsId: 'id_webhost', inventory: 'Ansible_Compose/Playbook/hosts', playbook: 'Ansible_Compose/Playbook/main.yaml'

		echo "End of Stage Deploy"
            }
        }
    }
}

